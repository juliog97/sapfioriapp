sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/core/routing/History"],function(e,t){"use strict";var o;return e.extend("softtek.SegundaPrueba.controller.VistaDetalle",{onInit:function(){o=this;o.oRouter=this.getOwnerComponent().getRouter();o.oRouter.attachRouteMatched(o._onRouteMatched,o)},_onRouteMatched:function(e){var r=e.getParameter("arguments").Idtitulo;if(r){var a=this.getView().getModel();var s=a.createKey("/SeriesSet",{Idtitulo:r});a.read(s,{success:function(e){o._setCabecera(e)},error:function(e){var o="Error al obtener numero de serie"+r;t.show(o)}});a=this.getView().getModel();s=s+"/TemporadasSet";a.read(s,{success:function(e){var t=new sap.ui.model.json.JSONModel(e.results);o.getView().byId("_tablaDetalle").setModel(t,"VerTemporadas")},error:function(e){var o="Error al obtener detalle de la serie"+r;t.show(o)}})}},_setCabecera:function(e){var t="Temporadas de la serie : "+e.Titulo;o.getView().byId("_tituloCabecera").setText(t)},onNavToBack:function(){o.oRouter.navTo("RouteVista1")}})});